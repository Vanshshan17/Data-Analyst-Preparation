WITH temp_table AS(
SELECT * FROM Activity WHERE activity_date BETWEEN
DATE_ADD("2019-07-27",INTERVAL -29 DAY ) AND "2019-07-27")

SELECT activity_date AS day,COUNT(DISTINCT(user_id)) AS active_users FROM temp_table GROUP BY activity_date;
